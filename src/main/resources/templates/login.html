<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录</title>
</head>
<body>
<div class="container">
    <h1>登录</h1>
    <p th:text="${msg}" style="color: red"></p>

    <form method="post" action="doLogin">
        <div class="form_group">
            <span>用户名：</span>
            <input name="username" placeholder="请输入用户名" required/>
        </div>

        <div class="form_group">
            <span>密码：</span>
            <input name="password" type="password" placeholder="请输入密码" required/>
        </div>

        <!-- 如果错误次数 >= 3，显示验证码输入框 -->
        <div class="form_group" th:if="${showCaptcha}">
            <span>验证码：</span>
            <input name="captcha" placeholder="请输入验证码" required/>
            <img src="code" id="captcha-img" alt="验证码" onclick="freashCode()" style="vertical-align: middle; margin-left: 10px;">
        </div>

        <input class="button" type="submit" value="登录"/>
    </form>
</div>

<script>
    // 刷新验证码
    function freashCode(){
        document.getElementById("captcha-img").src = "code?t=" + new Date().getTime();
    }
</script>
</body>
</html>
